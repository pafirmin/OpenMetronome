{"version":3,"sources":["actions/types.js","actions/metronomeActions.js","components/Controls.js","helpers/Ticker.js","components/Metronome.js","components/styled-components/ProgramForm.js","components/programmer/CustomProgramForm.js","actions/programmerActions.js","components/programmer/CustomProgram.js","components/programmer/RampTempo.js","components/programmer/Programmer.js","GlobalStyle.js","App.js","reducers/metronomeReducer.js","reducers/programmerReducer.js","store/store.js","index.js"],"names":["TOGGLE_IS_PLAYING","SET_TEMPO","SET_METRE","SET_NOTE_VALUE","INCREMENT_BEAT_COUNT","RESET_BEAT_COUNT","NEXT_PROGRAM_CHUNK","CLEAR_PROGRAM","ADD_TO_PROGRAM","REMOVE_FROM_PROGRAM","setTempo","tempo","type","payload","setMetre","meter","setNoteValue","value","nextProgramChunk","obj","Wrapper","styled","div","ControlContainer","StartBtn","button","NoteValue","span","props","selected","Controls","useSelector","state","metronome","metre","noteValue","isPlaying","dispatch","useDispatch","useState","sliderVal","setSliderVal","Slider","min","max","onChange","_e","newVal","onChangeCommitted","valueLabelDisplay","valueLabelFormat","color","onClick","style","display","justifyContent","marginTop","width","role","aria-label","fontSize","cursor","Ticker","onTick","division","nextNoteTime","stopPulse","beatCount","gainNode","createGain","this","connect","destination","gain","currentTime","startPulse","interval","setInterval","pulse","clearInterval","playTick","oscillator","createOscillator","Number","isInteger","onended","frequency","getFrequency","start","stop","Math","ceil","AudioContext","TempoDisplay","swing","keyframes","Pendulum","css","Metronome","ticker","useRef","val","useEffect","current","init","setTimeout","form","CustomProgramForm","program","measures","silent","formValues","setFormValues","handleSubmit","settings","id","uuid","length","handleChange","e","target","name","ProgramForm","onSubmit","htmlFor","CustomProgram","currentChunk","console","log","handleDelete","cycleProgram","removeFromProgram","useCallback","nextIndex","indexOf","nextChunk","map","textAlign","RampTempo","tempoRamp","setTempoRamp","rampFrequency","setRampFrequency","TabbedNav","nav","Tab","isActive","Programmer","activeTab","setActiveTab","createGlobalStyle","MainWrapper","App","GlobalStyle","initialState","metronomeReducer","action","programmerReducer","filter","rootReducer","combineReducers","store","createStore","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.aaed0671.chunk.js","sourcesContent":["export const TOGGLE_IS_PLAYING = \"TOGGLE_IS_PLAYING\";\nexport const SET_TEMPO = \"SET_TEMPO\";\nexport const SET_METRE = \"SET_METRE\";\nexport const SET_NOTE_VALUE = \"SET_NOTE_VALUE\";\nexport const INCREMENT_BEAT_COUNT = \"INCREMENT_BEAT_COUNT\";\nexport const RESET_BEAT_COUNT = \"RESET_BEAT_COUNT\";\nexport const NEXT_PROGRAM_CHUNK = \"NEXT_PROGRAM_CHUNK\";\nexport const CLEAR_PROGRAM = \"CLEAR_PROGRAM\";\nexport const ADD_TO_PROGRAM = \"ADD_TO_PROGRAM\";\nexport const REMOVE_FROM_PROGRAM = \"REMOVE_FROM_PROGRAM\";\n","import {\n  SET_TEMPO,\n  SET_METRE,\n  TOGGLE_IS_PLAYING,\n  INCREMENT_BEAT_COUNT,\n  RESET_BEAT_COUNT,\n  NEXT_PROGRAM_CHUNK,\n  SET_NOTE_VALUE,\n} from \"./types\";\n\nexport const setTempo = (tempo) => {\n  return {\n    type: SET_TEMPO,\n    payload: tempo,\n  };\n};\n\nexport const setMetre = (meter) => {\n  return {\n    type: SET_METRE,\n    payload: meter,\n  };\n};\n\nexport const setNoteValue = (value) => {\n  return {\n    type: SET_NOTE_VALUE,\n    payload: value,\n  };\n};\n\nexport const togglePlay = () => {\n  return { type: TOGGLE_IS_PLAYING };\n};\n\nexport const incrementBeatCount = (val) => {\n  return { type: INCREMENT_BEAT_COUNT, payload: val };\n};\n\nexport const resetBeatCount = () => {\n  return { type: RESET_BEAT_COUNT };\n};\n\nexport const nextProgramChunk = (obj) => {\n  return {\n    type: NEXT_PROGRAM_CHUNK,\n    payload: obj,\n  };\n};\n","import React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport styled from \"styled-components\";\nimport {\n  setMetre,\n  setNoteValue,\n  setTempo,\n  togglePlay,\n} from \"../actions/metronomeActions\";\nimport Slider from \"@material-ui/core/Slider\";\nimport AddCircleOutlineIcon from \"@material-ui/icons/AddCircleOutline\";\nimport RemoveCircleOutlineRoundedIcon from \"@material-ui/icons/RemoveCircleOutlineRounded\";\n\nconst Wrapper = styled.div`\n  margin: 1rem auto 0 auto;\n  text-align: center;\n  width: 100%;\n`;\n\nconst ControlContainer = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-size: 1.4rem;\n  margin: 0 auto;\n`;\n\nconst StartBtn = styled.button`\n  border-radius: 0;\n  font-size: 1.6em;\n  padding: 0.6rem 1rem;\n  background: #425eca;\n  font: inherit;\n  color: inherit;\n  border: 1px solid #bdbdbd;\n  cursor: pointer;\n  width: 100px;\n\n  &:hover {\n    background: #33489b;\n  }\n`;\n\nconst NoteValue = styled.span`\n  font-size: 1.8em;\n  cursor: pointer;\n  color: ${(props) => (props.selected ? \"red\" : \"inherit\")};\n`;\n\nconst Controls = () => {\n  const { tempo, metre, noteValue, isPlaying } = useSelector(\n    (state) => state.metronome\n  );\n  const dispatch = useDispatch();\n  const [sliderVal, setSliderVal] = useState(tempo);\n\n  const handleTempo = () => {\n    dispatch(setTempo(sliderVal));\n  };\n\n  const incrementMetre = () => {\n    dispatch(setMetre(metre + 1));\n  };\n\n  const decrementMetre = () => {\n    dispatch(setMetre(metre - 1));\n  };\n\n  const setQuarterNote = () => {\n    dispatch(setNoteValue(1));\n  };\n\n  const setEighthNote = () => {\n    dispatch(setNoteValue(0.5));\n  };\n\n  return (\n    <Wrapper>\n      <Slider\n        value={sliderVal}\n        min={50}\n        max={218}\n        onChange={(_e, newVal) => setSliderVal(newVal)}\n        onChangeCommitted={handleTempo}\n        valueLabelDisplay=\"auto\"\n        valueLabelFormat={sliderVal + \" bpm\"}\n        color=\"secondary\"\n      />\n      <StartBtn onClick={() => dispatch(togglePlay())}>\n        {isPlaying ? \"Stop\" : \"Start\"}\n      </StartBtn>\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          marginTop: \"1rem\",\n        }}\n      >\n        <div style={{ width: \"150px\" }}>\n          <span style={{ display: \"block\" }}>Metre</span>\n          <ControlContainer>\n            <RemoveCircleOutlineRoundedIcon\n              onClick={decrementMetre}\n              role=\"button\"\n              aria-label=\"Decrement meter\"\n              style={{ fontSize: 40, cursor: \"pointer\" }}\n            />\n            <span>{metre}</span>\n            <AddCircleOutlineIcon\n              onClick={incrementMetre}\n              role=\"button\"\n              aria-label=\"Increment meter\"\n              style={{ fontSize: 40, cursor: \"pointer\" }}\n            />\n          </ControlContainer>\n        </div>\n        <div style={{ width: \"150px\" }}>\n          <span style={{ display: \"block\" }}>Note</span>\n          <ControlContainer>\n            <NoteValue\n              onClick={setQuarterNote}\n              role=\"button\"\n              aria-label=\"Quarter note pulse\"\n              selected={noteValue === 1}\n            >\n              ♩\n            </NoteValue>\n            <NoteValue\n              onClick={setEighthNote}\n              role=\"button\"\n              aria-label=\"Eighth note pulse\"\n              selected={noteValue === 0.5}\n            >\n              ♫\n            </NoteValue>\n          </ControlContainer>\n        </div>\n      </div>\n    </Wrapper>\n  );\n};\n\nexport default Controls;\n","export default class Ticker extends AudioContext {\n  constructor({ onTick }) {\n    super();\n    this.tempo = 120;\n    this.metre = 4;\n    this.division = 1;\n    this.nextNoteTime = 0.0;\n    this.stopPulse = null;\n    this.onTick = onTick;\n    this.beatCount = 0;\n    this.gainNode = this.createGain();\n  }\n\n  init() {\n    this.gainNode.connect(this.destination);\n    this.gainNode.gain.value = 0.2;\n    this.nextNoteTime = this.currentTime;\n    this.startPulse();\n  }\n\n  startPulse() {\n    if (this.stopPulse) this.stopPulse();\n    const interval = setInterval(() => this.pulse(), 100);\n\n    this.stopPulse = () => {\n      clearInterval(interval);\n      this.beatCount = 0;\n    };\n  }\n\n  pulse() {\n    while (this.nextNoteTime < this.currentTime + 0.1) {\n      this.nextNoteTime += (60.0 / this.tempo) * this.division;\n      this.playTick();\n      this.beatCount += this.division;\n\n      if (this.beatCount === this.metre) {\n        this.beatCount = 0;\n      }\n    }\n  }\n\n  playTick() {\n    const oscillator = this.createOscillator();\n    if (Number.isInteger(this.beatCount)) {\n      oscillator.onended = this.onTick;\n    }\n    oscillator.connect(this.gainNode);\n    oscillator.frequency.value = this.getFrequency();\n    oscillator.start(this.nextNoteTime);\n    oscillator.stop(this.nextNoteTime + 0.1);\n  }\n\n  setTempo(tempo) {\n    this.tempo = tempo;\n  }\n\n  setMetre(metre) {\n    this.metre = metre;\n  }\n\n  setNoteValue(value) {\n    if (value === 1) {\n      this.beatCount = Math.ceil(this.beatCount);\n    }\n    this.division = value;\n  }\n\n  getFrequency() {\n    if (this.beatCount % this.metre === 0) {\n      return 550;\n    } else if (Number.isInteger(this.beatCount)) {\n      return 450;\n    } else {\n      return 350;\n    }\n  }\n}\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport styled, { keyframes, css } from \"styled-components\";\nimport Ticker from \"../helpers/Ticker\";\nimport {\n  incrementBeatCount,\n  resetBeatCount,\n} from \"../actions/metronomeActions\";\n\nconst Wrapper = styled.div`\n  position: relative;\n  width: 100%;\n  height: 300px;\n  margin: auto;\n`;\n\nconst TempoDisplay = styled.span`\n  display: block;\n  font-size: 3rem;\n  text-align: center;\n`;\n\nconst swing = keyframes`\n  0% {\n    transform: rotate(-45deg);\n  }\n  100% {\n    transform: rotate(45deg);\n  }\n`;\n\nconst Pendulum = styled.div`\n  width: 2px;\n  height: 80%;\n  position: absolute;\n  left: 50%;\n  bottom: 0;\n  background-color: #c4c4c4;\n  transform-origin: bottom center;\n  animation: ${(props) =>\n    props.isPlaying &&\n    css`\n      ${swing} ${60 / props.tempo}s linear infinite alternate\n    `};\n\n  &:after {\n    content: \"\";\n    position: absolute;\n    top: ${(props) => ((props.tempo - 50) / 168) * 100}%;\n    left: 50%;\n    transform: translate(-50%);\n    width: 20px;\n    height: 20px;\n    border-radius: 50%;\n    background-color: #c4c4c4;\n    transition: top 0.5s;\n  }\n`;\n\nconst Metronome = () => {\n  const dispatch = useDispatch();\n  const { tempo, metre, noteValue, isPlaying } = useSelector(\n    (state) => state.metronome\n  );\n  const ticker = useRef(\n    new Ticker({ onTick: () => dispatch(incrementBeatCount()) })\n  );\n\n  // Listen for tempo, metre and note value changes\n  useEffect(() => {\n    ticker.current.setTempo(tempo);\n  }, [tempo]);\n\n  useEffect(() => {\n    ticker.current.setMetre(metre);\n  }, [metre]);\n\n  useEffect(() => {\n    ticker.current.setNoteValue(noteValue);\n  }, [noteValue]);\n\n  /**\n   * The call to setTimeout below is a temporary\n   * workaround for the 1 or 2 beats that remain in\n   * the buffer after the ticker stops\n   */\n  useEffect(() => {\n    if (isPlaying) {\n      ticker.current.init();\n    } else if (ticker.current.stopPulse) {\n      ticker.current.stopPulse();\n      setTimeout(() => dispatch(resetBeatCount()), 1000);\n    }\n  }, [isPlaying, dispatch]);\n\n  return (\n    <Wrapper>\n      <TempoDisplay>{tempo}bpm</TempoDisplay>\n      <Pendulum isPlaying={isPlaying} tempo={tempo} />\n    </Wrapper>\n  );\n};\n\nexport default Metronome;\n","import styled from \"styled-components\";\n\nexport default styled.form`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 1rem;\n\n  & input {\n    width: 3em;\n    font: inherit;\n    padding: 0.2rem;\n    border: none;\n    border-radius: 3px;\n  }\n\n  & > * + * {\n    margin-left: 0.5rem;\n  }\n`;\n","import React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { addToProgram } from \"../../actions/programmerActions\";\nimport { v4 as uuid } from \"uuid\";\nimport AddCircleOutlineIcon from \"@material-ui/icons/AddCircleOutline\";\nimport { nextProgramChunk } from \"../../actions/metronomeActions\";\nimport ProgramForm from \"../styled-components/ProgramForm\";\n\nconst CustomProgramForm = () => {\n  const { program } = useSelector((state) => state.program);\n  const dispatch = useDispatch();\n  const [formValues, setFormValues] = useState({\n    measures: 4,\n    metre: 4,\n    tempo: 120,\n    silent: false,\n  });\n\n  const handleSubmit = () => {\n    const settings = {\n      measures: Number(formValues.measures),\n      metre: Number(formValues.metre),\n      tempo: Number(formValues.tempo),\n      silent: formValues.silent,\n      id: uuid(),\n    };\n    if (program.length === 0) {\n      dispatch(nextProgramChunk(settings));\n    }\n    dispatch(addToProgram(settings));\n  };\n\n  const handleChange = (e) => {\n    setFormValues({\n      ...formValues,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  return (\n    <ProgramForm onSubmit={handleSubmit}>\n      <input\n        type=\"number\"\n        name=\"measures\"\n        id=\"measures\"\n        value={formValues.measures}\n        onChange={handleChange}\n      />\n      <label htmlFor=\"measures\">bars of</label>\n      <label htmlFor=\"metre\">\n        <input\n          type=\"number\"\n          name=\"metre\"\n          id=\"metre\"\n          value={formValues.metre}\n          onChange={handleChange}\n        />\n      </label>\n      <span>at</span>\n      <input\n        type=\"number\"\n        min={60}\n        max={220}\n        name=\"tempo\"\n        id=\"tempo\"\n        value={formValues.tempo}\n        onChange={handleChange}\n      />\n      <label htmlFor=\"tempo\">bpm</label>\n      <AddCircleOutlineIcon\n        role=\"button\"\n        onClick={handleSubmit}\n        aria-label=\"Add to program\"\n        style={{ fontSize: 30, cursor: \"pointer\" }}\n      />\n    </ProgramForm>\n  );\n};\n\nexport default CustomProgramForm;\n","import { ADD_TO_PROGRAM, CLEAR_PROGRAM, REMOVE_FROM_PROGRAM } from \"./types\";\n\nexport const addToProgram = (obj) => {\n  return {\n    type: ADD_TO_PROGRAM,\n    payload: obj,\n  };\n};\n\nexport const removeFromProgram = (obj) => {\n  return {\n    type: REMOVE_FROM_PROGRAM,\n    payload: obj,\n  };\n};\n\nexport const clearProgram = () => {\n  return { type: CLEAR_PROGRAM };\n};\n","import React, { useEffect, useCallback } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { nextProgramChunk } from \"../../actions/metronomeActions\";\nimport {\n  clearProgram,\n  removeFromProgram,\n} from \"../../actions/programmerActions\";\nimport CustomProgramForm from \"./CustomProgramForm\";\n\nconst CustomProgram = () => {\n  const { program, currentChunk } = useSelector((state) => state.program);\n  const beatCount = useSelector((state) => state.metronome.beatCount);\n  const dispatch = useDispatch();\n\n  console.log(beatCount);\n\n  const handleDelete = (obj) => {\n    if (program.length === 1) {\n      dispatch(clearProgram());\n      return;\n    }\n    if (obj.id === currentChunk.id) {\n      cycleProgram();\n    }\n    dispatch(removeFromProgram(obj));\n  };\n\n  const cycleProgram = useCallback(() => {\n    const nextIndex = program.indexOf(currentChunk) + 1;\n    const nextChunk = program[nextIndex] || program[0];\n\n    dispatch(nextProgramChunk(nextChunk));\n  }, [currentChunk, program, dispatch]);\n\n  useEffect(() => {\n    if (\n      currentChunk &&\n      beatCount === currentChunk.metre * currentChunk.measures\n    ) {\n      cycleProgram();\n    }\n  }, [beatCount, cycleProgram, currentChunk]);\n\n  return (\n    <div>\n      <CustomProgramForm />\n      {program.map((obj) => (\n        <p style={{ textAlign: \"center\" }} key={obj.id}>\n          {obj.measures} bars of {obj.metre} at {obj.tempo}bpm{\" \"}\n          <button type=\"button\" onClick={() => handleDelete(obj)}>\n            Remove\n          </button>\n        </p>\n      ))}\n    </div>\n  );\n};\n\nexport default CustomProgram;\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setTempo } from \"../../actions/metronomeActions\";\nimport ProgramForm from \"../styled-components/ProgramForm\";\n\nconst RampTempo = () => {\n  const { tempo, metre, beatCount, isPlaying } = useSelector(\n    (state) => state.metronome\n  );\n  const dispatch = useDispatch();\n  const [tempoRamp, setTempoRamp] = useState(0);\n  const [rampFrequency, setRampFrequency] = useState(4);\n\n  useEffect(() => {\n    if (isPlaying && beatCount % (rampFrequency * metre) === 0) {\n      console.log(tempo + tempoRamp);\n      dispatch(setTempo(Math.min(tempo + Number(tempoRamp), 220)));\n    }\n  }, [beatCount]);\n\n  return (\n    <div>\n      <ProgramForm>\n        <label htmlFor=\"tempo\">Increase tempo by</label>\n        <input\n          min={0}\n          max={50}\n          type=\"number\"\n          name=\"tempoRamp\"\n          id=\"tempo\"\n          value={tempoRamp}\n          onChange={(e) => setTempoRamp(e.target.value)}\n        />\n        <span>bpm every</span>\n        <input\n          min={1}\n          type=\"number\"\n          name=\"measures\"\n          id=\"measures\"\n          value={rampFrequency}\n          onChange={(e) => setRampFrequency(e.target.value)}\n        />\n        <label htmlFor=\"measures\">measures</label>\n      </ProgramForm>\n    </div>\n  );\n};\n\nexport default RampTempo;\n","import React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport CustomProgram from \"./CustomProgram\";\nimport RampTempo from \"./RampTempo\";\n\nconst TabbedNav = styled.nav`\n  display: flex;\n  justify-content: space-evenly;\n  font-size: 1.5rem;\n  margin-bottom: 2rem;\n`;\n\nconst Tab = styled.span`\n  border-bottom: 2px solid #d3d3d3;\n  width: 200px;\n  text-align: center;\n  padding-bottom: 0.3rem;\n  position: relative;\n  color: ${(props) => (props.isActive ? \"#dfdfdf\" : \"#9d9d9d\")};\n  cursor: pointer;\n  transition: color 0.3s;\n\n  &:after {\n    content: \"\";\n    position: absolute;\n    bottom: -2px;\n    left: 50%;\n    transform: translateX(-50%);\n    height: 2px;\n    width: ${(props) => (props.isActive ? \"100%\" : \"0\")};\n    background-color: red;\n    transition: width 0.3s;\n  }\n`;\n\nconst Programmer = () => {\n  const [activeTab, setActiveTab] = useState(1);\n\n  return (\n    <div style={{ marginTop: \"2rem\" }}>\n      <TabbedNav>\n        <Tab isActive={activeTab === 1} onClick={() => setActiveTab(1)}>\n          Tempo ramp\n        </Tab>\n        <Tab isActive={activeTab === 2} onClick={() => setActiveTab(2)}>\n          Custom\n        </Tab>\n      </TabbedNav>\n      {activeTab === 1 && <RampTempo />}\n\n      {activeTab === 2 && <CustomProgram />}\n    </div>\n  );\n};\n\nexport default Programmer;\n","import { createGlobalStyle } from \"styled-components\";\n\nexport default createGlobalStyle`\n  body {\n    background-color: #333;\n    color: #dfdfdf;\n    font-family: 'Montserrat', sans-serif;\n  }\n`;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport Controls from \"./components/Controls\";\nimport Metronome from \"./components/Metronome\";\nimport Programmer from \"./components/programmer/Programmer\";\nimport GlobalStyle from \"./GlobalStyle\";\n\nconst MainWrapper = styled.div`\n  width: 100%;\n  margin: 3rem auto 0 auto;\n\n  @media screen and (min-width: 600px) {\n    width: 600px;\n  }\n`;\n\nconst App = () => {\n  return (\n    <MainWrapper>\n      <GlobalStyle />\n      <Metronome />\n      <Controls />\n      <Programmer />\n    </MainWrapper>\n  );\n};\n\nexport default App;\n","import {\n  TOGGLE_IS_PLAYING,\n  SET_TEMPO,\n  SET_METRE,\n  INCREMENT_BEAT_COUNT,\n  RESET_BEAT_COUNT,\n  NEXT_PROGRAM_CHUNK,\n  SET_NOTE_VALUE,\n} from \"../actions/types\";\n\nconst initialState = {\n  tempo: 120,\n  metre: 4,\n  noteValue: 1,\n  isPlaying: false,\n  beatCount: 0,\n};\n\nconst metronomeReducer = (state = initialState, action) => {\n  const { type, payload } = action;\n  switch (type) {\n    case TOGGLE_IS_PLAYING:\n      return { ...state, isPlaying: !state.isPlaying };\n    case SET_TEMPO:\n      return { ...state, tempo: payload };\n    case SET_METRE:\n      return { ...state, metre: payload };\n    case SET_NOTE_VALUE:\n      return { ...state, noteValue: payload };\n    case INCREMENT_BEAT_COUNT:\n      return { ...state, beatCount: state.beatCount + 1 };\n    case RESET_BEAT_COUNT:\n      return { ...state, beatCount: 0 };\n    case NEXT_PROGRAM_CHUNK:\n      return {\n        ...state,\n        tempo: payload.tempo,\n        metre: payload.metre,\n        beatCount: 0,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default metronomeReducer;\n","import {\n  ADD_TO_PROGRAM,\n  CLEAR_PROGRAM,\n  NEXT_PROGRAM_CHUNK,\n  REMOVE_FROM_PROGRAM,\n} from \"../actions/types\";\n\nconst initialState = {\n  program: [],\n  currentChunk: {},\n};\n\nconst programmerReducer = (state = initialState, action) => {\n  const { type, payload } = action;\n  switch (type) {\n    case ADD_TO_PROGRAM:\n      return { ...state, program: [...state.program, payload] };\n    case REMOVE_FROM_PROGRAM:\n      return {\n        ...state,\n        program: state.program.filter((obj) => obj.id !== payload.id),\n      };\n    case NEXT_PROGRAM_CHUNK:\n      return { ...state, currentChunk: payload };\n    case CLEAR_PROGRAM:\n      return initialState;\n    default:\n      return state;\n  }\n};\n\nexport default programmerReducer;\n","import metronomeReducer from \"../reducers/metronomeReducer\";\nimport { combineReducers, createStore } from \"redux\";\nimport programmerReducer from \"../reducers/programmerReducer\";\n\nconst rootReducer = combineReducers({\n  metronome: metronomeReducer,\n  program: programmerReducer,\n});\n\nconst store = createStore(rootReducer);\n\nexport default store;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { Provider } from \"react-redux\";\nimport store from \"./store/store\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}